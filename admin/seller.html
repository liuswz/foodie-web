<!DOCTYPE html>
<html>

<head>
    <!-- 页面meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>商家完善资料</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" name="viewport">

    <link rel="stylesheet" href="../plugins/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/AdminLTE.css">
    <link rel="stylesheet" href="../plugins/adminLTE/css/skins/_all-skins.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <script src="../plugins/jQuery/jquery-2.2.3.min.js"></script>
    <script src="../plugins/bootstrap/js/bootstrap.min.js"></script>
<<<<<<< HEAD


    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-validator/2.1.3/vue-validator.js"></script>
    <!-- <script type="text/javascript" src="seller.js"></script> -->
=======
    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <script src="https://cdn.staticfile.org/vue-resource/1.5.1/vue-resource.min.js"></script>
    <script src="https://cdn.bootcss.com/vue-validator/2.1.3/vue-validator.js"></script>

>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
</head>

<body class="hold-transition skin-red sidebar-mini">



    <!-- 正文区域 -->
    <section class="content" id="app">

        <div class="box-body">

            <!--tab页-->
            <div class="nav-tabs-custom">

                <!--tab头-->
                <ul class="nav nav-tabs">

                    <li class="active">
                        <a href="#home" data-toggle="tab">商家信息</a>
                    </li>
                </ul>
                <!--tab头/-->

                <!--tab内容-->
                <div class="tab-content">
<<<<<<< HEAD
                    <form @submit="checkForm" class="sui-form form-horizontal" action="http://localhost:9001/consumer/shopdetail/update"
                        novalidate="true" method="post">
                        <!--表单内容-->
                        <div class="tab-pane active" id="home">
                            <div class="row data-type">

                                <div class="col-md-2 title">商家名称</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="商家名称"  v-model='shopName'>
                                </div>

                                <div class="col-md-2 title">商家电话</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="商家电话" v-model="shopPhone">
                                </div>

                                <div class="col-md-2 title">商家邮箱</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="商家邮箱" v-model="shopEmail">
                                </div>

                                <div class="col-md-2 title">商家地址</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="商家地址" v-model="shopAddress">
                                </div>

                                <div class="col-md-2 title">mch_id</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="mch_id" v-model="mchId">
                                </div>

                                <div class="col-md-2 title">api_key</div>
                                <div class="col-md-10 data">
                                    <input type="text" class="form-control" placeholder="api_key" v-model="apiKey">
                                </div>

                                <!-- <div class="col-md-2 title">联系人手机</div>
=======
                    <!--表单内容-->
                    <div class="tab-pane active" id="home">
                        <div class="row data-type">

                            <div class="col-md-2 title">商家名称</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="商家名称" v-model='shopInfoDto.shopName'>
                            </div>

                            <div class="col-md-2 title">商家电话</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="商家电话" v-model="shopInfoDto.shopPhone">
                            </div>

                            <div class="col-md-2 title">商家邮箱</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="商家邮箱" v-model="shopInfoDto.shopEmail">
                            </div>

                            <div class="col-md-2 title">商家地址</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="商家地址" v-model="shopInfoDto.shopAddress">
                            </div>

                            <div class="col-md-2 title">mch_id</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="mch_id" v-model="shopInfoDto.mchId">
                            </div>

                            <div class="col-md-2 title">api_key</div>
                            <div class="col-md-10 data">
                                <input type="text" class="form-control" placeholder="api_key" v-model="shopInfoDto.apiKey">
                            </div>

                            <!-- <div class="col-md-2 title">联系人手机</div>
>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"    placeholder="联系人手机" value="">
                                    </div>
                                    
                                    <div class="col-md-2 title">联系人EMAIL</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="联系人EMAIL" value="">
                                    </div>
                                    
                                    <div class="col-md-2 title">营业执照号</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="营业执照号" value="">
                                    </div>
                                     
                                    <div class="col-md-2 title">税务登记证号</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="税务登记证号" value="">
                                    </div>
                                    
 									<div class="col-md-2 title">组织机构代码证</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"  placeholder="组织机构代码证" value="">
                                    </div>
                                    
                                    <div class="col-md-2 title">法定代表人</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="法定代表人" value="">
                                    </div>
                                    
 									<div class="col-md-2 title">法定代表人身份证号</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="法定代表人身份证号" value="">
                                    </div>

 									<div class="col-md-2 title">开户行名称</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control" placeholder="开户行名称" value="">
                                    </div>
                                    
                                    <div class="col-md-2 title">开户行支行</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="开户行支行" value="">
                                    </div>

                                    <div class="col-md-2 title">银行账号</div>
                                    <div class="col-md-10 data">
                                        <input type="text" class="form-control"   placeholder="银行账号" value="">
                                    </div> -->

<<<<<<< HEAD
                            </div>
                            <div class="control-group">
                                <label class="control-label"></label>
                                <div class="controls btn-reg">
                                    <input class="sui-btn btn-block btn-xlarge btn-danger" type="submit" target="_blank"
                                        value="保存" />
                                </div>
                            </div>
                        </div>
                    </form>
=======
                        </div>

                    </div>
>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e



                </div>
                <!--tab内容/-->
                <!--表单内容/-->

            </div>




        </div>
        <div class="btn-toolbar list-toolbar">
<<<<<<< HEAD
            <button class="btn btn-primary" v-on:click="test"><i class="fa fa-save"></i>保存</button>
            <a data-toggle="modal" class="btn btn-danger">提交</a>
=======
            <button class="btn btn-primary" @click="updateshop">保存</button>
            <!-- <a data-toggle="modal" class="btn btn-danger">提交</a> -->

>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
        </div>

    </section>
    <!-- 正文区域 /-->
<<<<<<< HEAD
    <script type="text/javascript">
       new Vue({
            el: '#app',
            data: {
                errors: [],
                username: null,
                password: null,
                shopName: null,
                shopAddress: null,
                shopEmail: null,
                shopPhone: null,
                mchId: null,
                apiKey: null,
                shopInfoDto: {}
            },
            created: function () {
                this.getById();
              // alert("发生错误");
            },
            methods: {
                getById() {
                    // var _this = this;
                    this.$http.get('http://localhost:9001/consumer/shopdetail/getById?id=23').then(function (response) {
                        
                        this.shopName = response.body.result.shopName;
                        // console.log(this.shopName, "22222");
                      
                        this.shopAddress = response.body.result.shopAddress;
                        this.shopEmail = response.body.result.shopEmail;
                        this.shopPhone = response.body.result.shopPhone;
                        this.mchId = response.body.result.mchId;
                        this.apiKey = response.body.result.apiKey;

=======
    <!-- <script type="text/javascript" src="seller.js"></script> -->
    <script type="text/javascript">
        var app = new Vue({
            el: '#app',
            data: {
                errors: [],
                shopInfoDto: {
                    id: null,
                    username: null,
                    password: null,
                    shopName: null,
                    shopAddress: null,
                    shopEmail: null,
                    shopPhone: null,
                    mchId: null,
                    apiKey: null,
                }


            },
            created: function () {
                this.getById();
            },
            methods: {
                getById: function () {
                    // var _this = this;
                    this.$http.get('http://localhost:9001/consumer/shopdetail/getById/23').then(function (response) {
                        this.shopInfoDto = response.body.result;
>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
                    }, function (response) {
                        // 发生错误
                        alert("发生错误")
                    });

                },
<<<<<<< HEAD
                test :function (event) {
                    alert("发生错误");
                },
                checkForm: function (e) {
                    this.errors = [];



                    if (!this.username) {
                        this.errors.push('用户名不能为空');
                    } else if (!this.validUsername(this.username)) {
                        this.errors.push('用户名只能输入5-20个 以字母开头、可带数字');
                    }
                    else if (!this.password) {
                        this.errors.push('密码不能为空');
                    } else if (!this.validPassword(this.password)) {
                        this.errors.push('密码只能输入6-20个字母、数字、下划线 ');
                    }
                    else if (!this.shopName) {
                        this.errors.push('店名不能为空');
                    }
                    else if (!this.shopAddress) {
                        this.errors.push('地址不能为空');
                    }

                    else if (!this.shopEmail) {
                        this.errors.push('邮件不能为空');
                    } else if (!this.validEmail(this.shopEmail)) {
                        this.errors.push('邮件格式不正确 ');
                    }
                    else if (!this.shopPhone) {
                        this.errors.push('电话号码不能为空');
                    } else if (!this.validPhone(this.shopPhone)) {
                        this.errors.push('电话号码格式不正确');
                    }


                    if (!this.errors.length) {
                        return false;
                    }

                    e.preventDefault();
=======
                updateshop: function (e) {
                    
                  
                    if (!this.shopInfoDto.shopName) {
                        alert('店名不能为空');
                        return false;
                    } 
                    else if (!this.shopInfoDto.shopAddress) {
                        alert('地址不能为空');
                        return false;
                    }
                    else if (!this.shopInfoDto.shopEmail) {
                        alert('邮件不能为空');
                        return false;
                    } else if (!this.validEmail(this.shopInfoDto.shopEmail)) {
                        alert('邮件格式不正确 ');
                        return false;
                    }
                    else if (!this.shopInfoDto.shopPhone) {
                        alert('电话号码不能为空');
                        return false;
                    } else if (!this.validPhone(this.shopInfoDto.shopPhone)) {
                        alert('电话号码格式不正确');
                        return false;
                    }


                    
                    this.$http.post('http://localhost:9001/consumer/shopdetail/update', this.shopInfoDto, { emulateJSON: true }).then(function (response) {
                        if(response.body.result.code == 0){
                               alert("保存成功");
                        }
                    }, function (res) {
                        console.log(res.status);
                    });
>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
                },
                validUsername: function (username) {
                    var re = /^[a-zA-Z]{1}([a-zA-Z0-9]|[._]){4,19}$/;
                    return re.test(username);
                },
                validPassword: function (password) {
                    var re = /^(\w){6,20}$/;
                    return re.test(password);
                },
                validEmail: function (email) {
                    var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
                    return re.test(email);
                },

                validPhone: function (phone) {
                    var re = /^1([38]\d|5[0-35-9]|7[3678])\d{8}$/;
                    return re.test(phone);
<<<<<<< HEAD
                },
=======
                }

>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
            }
        })
    </script>

<<<<<<< HEAD

=======
>>>>>>> 375eba6f51f74df935b610b6a744f05d1763c21e
</body>

</html>